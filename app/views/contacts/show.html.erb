<h2><%= @contact.name %></h2>
<p>
  Email: <%= @contact.email %>
</p>
<p>
  Phone: <%= @contact.phone %>
</p>
<h3>Categories</h3>
<p>
  <ul>
    <% @contact.categories.each do |category| %>
      <li>
        <%= form_with(model: @contact.memberships.find_by(category_id: category.id),
                      method: "delete") do |form| %>
          <%= form.submit category.name %>
        <% end %>
      </li>
    <% end %>
  </ul>
  <ul>
    <% @joinable_categories.each do |category| %>
      <li>
        <%= form_with(model: @contact.memberships.build) do |form| %>
          <%= hidden_field_tag :category_id, category.id %>
          <%= hidden_field_tag :contact_id, @contact.id %>
          <%= form.submit category.name %>
        <% end %>
      </li>
    <% end %>
  </ul>
</p>
<p>
  <%= link_to "Edit this contact", edit_contact_path(@contact) %>
</p>
<p>
  <%= link_to "Delete this contact", @contact, data: { "turbo-method": "delete",
                                                        "turbo-confirm": "Are you sure?" } %>
</p>
<%= home_link %>

<h3>Categories</h3>
